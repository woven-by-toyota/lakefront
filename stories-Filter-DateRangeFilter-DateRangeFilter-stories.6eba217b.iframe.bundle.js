"use strict";(self.webpackChunk_woven_planet_lakefront=self.webpackChunk_woven_planet_lakefront||[]).push([[28],{"./src/stories/Filter/DateRangeFilter/DateRangeFilter.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithSplitQueryParams:()=>WithSplitQueryParams,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DateRangeFilter_stories});var Filter=__webpack_require__("./src/components/Filter/Filter.tsx"),FilterPage=__webpack_require__("./src/stories/Filter/components/FilterPage/index.ts"),DocBlock=__webpack_require__("./.storybook/DocBlock.tsx"),react=__webpack_require__("./node_modules/react/index.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),Input=__webpack_require__("./src/components/Input/Input.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Container=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    input {
        width: 100%;
    }
`,DateRangeInput=({value,onChange})=>{const[startDate,setStartDate]=(0,react.useState)(value?.startDate||""),[endDate,setEndDate]=(0,react.useState)(value?.endDate||"");(0,react.useEffect)((()=>{setStartDate(value?.startDate||""),setEndDate(value?.endDate||"")}),[value]);return(0,jsx_runtime.jsxs)(Container,{children:[(0,jsx_runtime.jsx)(Input.Z,{label:"Start Date",type:"date",value:startDate,onChange:e=>{const newStartDate=e.target.value;setStartDate(newStartDate),onChange(newStartDate||endDate?{startDate:newStartDate||void 0,endDate:endDate||void 0}:null)}}),(0,jsx_runtime.jsx)(Input.Z,{label:"End Date",type:"date",value:endDate,onChange:e=>{const newEndDate=e.target.value;setEndDate(newEndDate),onChange(startDate||newEndDate?{startDate:startDate||void 0,endDate:newEndDate||void 0}:null)}})]})},DateRangeFilter_DateRangeInput=DateRangeInput;DateRangeInput.__docgenInfo={description:"",methods:[],displayName:"DateRangeInput",props:{value:{required:!0,tsType:{name:"union",raw:"DateRange | null",elements:[{name:"DateRange"},{name:"null"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: DateRange | null) => void",signature:{arguments:[{type:{name:"union",raw:"DateRange | null",elements:[{name:"DateRange"},{name:"null"}]},name:"value"}],return:{name:"void"}}},description:""}}};const DateRangeFilter_stories={title:"Lakefront/Filter/DateRangeFilter",component:Filter.Z,argTypes:{ContextSwitchMenu:{control:!1},FilterBar:{control:!1},FilterJSONConfirmationModal:{control:!1},FilterJSONInput:{control:!1},additionalQueryParams:{control:!1},filterHooks:{control:!1},hideFilterBar:{control:{type:"boolean"}},initialActiveSection:{control:{type:"text"}},isCollapsed:{control:{type:"boolean"}},isJSONInputAllowed:{control:{type:"boolean"}},location:{control:!1},onToggleCollapsed:{control:!1},updateHistory:{control:!1}},parameters:{docs:{page:DocBlock.Z}}},FILTERS_WITH_DATE_RANGE={dateRange:(({label,description})=>({label,description,splitQueryParams:["startDate","endDate"],getApiQueryUrl:(key,value)=>{let urlString="";return value?.startDate&&(urlString+=`&startDate=${value.startDate}`),value?.endDate&&(urlString+=`&endDate=${value.endDate}`),urlString},getApiPostBody:(key,value)=>{if(value){const postBody={};return value.startDate&&(postBody.startDate=value.startDate),value.endDate&&(postBody.endDate=value.endDate),postBody}},getBrowserQueryUrlValue:value=>value||{},getDefaultFilterValue:()=>null,isDefaultFilterValue:value=>null===value,getFilterBarLabel:value=>{if(value){return`Date Range: ${value?.startDate?`${value.startDate}`:""} - ${value?.endDate?`${value.endDate}`:""}`}return""},getFilterSectionLabel:value=>{if(value){return`${value?.startDate?`${value.startDate}`:""} - ${value?.endDate?`${value.endDate}`:""}`}return""},parseInitialFilterValue:incomingParams=>"object"==typeof incomingParams&&(incomingParams.startDate||incomingParams.endDate)?{startDate:incomingParams.startDate,endDate:incomingParams.endDate}:null,renderComponent:({value,update})=>(0,jsx_runtime.jsx)(DateRangeFilter_DateRangeInput,{onChange:update,value})}))({label:"Date Range",description:"Select a start and end date. This filter demonstrates splitQueryParams by storing the date range as separate startDate and endDate query parameters in the URL."})},WithSplitQueryParams=(args=>(0,jsx_runtime.jsx)(FilterPage.ZP,{...args,pageFilters:FILTERS_WITH_DATE_RANGE})).bind({});WithSplitQueryParams.args={hideFilterBar:!1,isJSONInputAllowed:!1},WithSplitQueryParams.parameters={docs:{description:{story:"This story showcases a DateRangeFilter that uses the `splitQueryParams` feature. \n\nInstead of storing the date range as a single query parameter like `dateRange=2024-01-01~2024-12-31`, \nthe filter stores it as two separate parameters: `startDate=2024-01-01&endDate=2024-12-31`.\n\n**Key Implementation Details:**\n\n1. The filter specifies `splitQueryParams: ['startDate', 'endDate']` to declare which query params it uses\n2. The `parseInitialFilterValue` method receives an object with the split params instead of a single string\n3. The filter system automatically handles clearing both parameters when the filter is reset\n4. The `getBrowserQueryUrlValue` returns the full object which gets split into separate params\n\nTry selecting a date range and observe how the URL preview shows separate `startDate` and `endDate` parameters."}}};const __namedExportsOrder=["WithSplitQueryParams"];WithSplitQueryParams.parameters={...WithSplitQueryParams.parameters,docs:{...WithSplitQueryParams.parameters?.docs,source:{originalSource:"args => <FilterPage {...args} pageFilters={FILTERS_WITH_DATE_RANGE} />",...WithSplitQueryParams.parameters?.docs?.source}}}}}]);
//# sourceMappingURL=stories-Filter-DateRangeFilter-DateRangeFilter-stories.6eba217b.iframe.bundle.js.map